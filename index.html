<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>DashDashVersion </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="DashDashVersion ">
    <meta name="generator" content="docfx 2.56.2.0">
    
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="styles/docfx.vendor.css">
    <link rel="stylesheet" href="styles/docfx.css">
    <link rel="stylesheet" href="styles/main.css">
    <meta property="docfx:navrel" content="toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="index.html">
                <img id="logo" class="svg" src="logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="dashdashversion">DashDashVersion</h1>

<p><a href="https://dev.azure.com/basbossink0470/DashDashVersion/_build/latest?definitionId=1&amp;branchName=master"><img src="https://dev.azure.com/basbossink0470/DashDashVersion/_apis/build/status/hightechict.DashDashVersion?branchName=master" alt="Build Status"></a>
<a href="https://ci.appveyor.com/project/kees2125/dashdashversion"><img src="https://ci.appveyor.com/api/projects/status/fgpb3nb7honnt4xh/branch/master?svg=true" alt="Appveyor Build Status"></a>
<a href="https://codecov.io/gh/hightechict/DashDashVersion"><img src="https://codecov.io/gh/hightechict/DashDashVersion/branch/master/graph/badge.svg" alt="codecov"></a>
<a href="https://www.nuget.org/packages/git-flow-version/"><img src="https://img.shields.io/nuget/v/git-flow-version.svg?color=green" alt="nuget"></a>
<img src="https://img.shields.io/github/license/hightechict/DashDashVersion.svg?color=purple" alt="licenceTag">
<a href="https://www.dashdashversion.net/"><img src="https://img.shields.io/badge/-docs-blue.svg" alt="docs"></a>
<a href="https://github.com/hightechict/DashDashVersion"><img src="https://img.shields.io/badge/-repository-green.svg" alt="docs"></a></p>
<p>DashDashVersion creates predictable and opinionated <a href="https://semver.org/">SemVer 2.0.0 version</a> numbers for <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">git flow</a> repositories.</p>
<p>It consists of an executable that can be installed as a <a href="https://docs.microsoft.com/en-us/dotnet/core/tools/global-tools"><code>dotnet</code> global tool</a> and a reusable library <a href="https://docs.microsoft.com/en-us/dotnet/standard/net-standard">NET Standard 2.0</a> that can be used in other applications or .NET based build scripts.</p>
<h2 id="why-dashdashversion">Why DashDashVersion?</h2>
<p>DashDashVersion is an application to generate a version number for a git repository that follows <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">git-flow</a>.
Ideal if you are using <a href="https://en.wikipedia.org/wiki/Continuous_integration">Continuous Integration</a>.
The version number can be used for packages or to simply tag your commits.</p>
<p>DashDashVersion provides automated versioning during development, while leaving control over release versions to the user.
It complies with <a href="https://semver.org/">SemVer 2.0</a>. DashDashVersion only supports repositories that strictly follow the <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">git flow</a> conventions, this may seem overly restrictive but we believe strongly in simplicity and convention over configuration.</p>
<h2 id="installation">Installation</h2>
<p>DashDashVersion can be installed as a <a href="https://docs.microsoft.com/en-us/dotnet/core/tools/global-tools"><code>dotnet</code> global tool</a> by using the following command:</p>
<pre><code class="lang-bash">$ dotnet tool install --global git-flow-version
</code></pre>
<p>or the library part can be added as a package using:</p>
<pre><code class="lang-bash">$ dotnet add package DashDashVersion
</code></pre>
<h2 id="usage">Usage</h2>
<p>To use DashDashVersion run the command <code>git-flow-version</code> inside a git repository.
It will return a JSON string with the following properties:</p>
<ul>
<li><code>AssemblyVersion</code> = an <a href="https://docs.microsoft.com/en-us/dotnet/api/system.reflection.assemblyversionattribute?view=netstandard-2.0"><code>AssemblyVersionAttribute</code></a> compatible version with the format <code>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;.&lt;revison&gt;</code>,</li>
<li><code>FullSemVer</code> = a <a href="https://semver.org/">SemVer 2.0.0</a> compliant version number with build metadata,</li>
<li><code>SemVer</code> = a <a href="https://semver.org/">SemVer 2.0.0</a> compliant version number without build metadata.</li>
</ul>
<p>For example:</p>
<pre><code class="lang-bash">$ git-flow-version
{
    &quot;AssemblyVersion&quot;:&quot;0.2.0.128&quot;,
    &quot;FullSemVer&quot;:&quot;0.2.0-dev.1+8af6c6d&quot;,
    &quot;SemVer&quot;:&quot;0.2.0-dev.1&quot;
}
</code></pre>
<h3 id="usage-in-continuous-integration-environments">Usage in Continuous Integration environments</h3>
<p>If your Continuous Integration (CI) environment uses <a href="https://git-scm.com/docs/git-checkout#_detached_head">detached heads</a> <code>git-flow-version</code> cannot determine what the <em>type</em> (<code>master</code>, <code>release/*</code>, <code>feature/</code>, <code>hotfix/</code>, <code>support/*</code>) of the branch is for which it should generate the version number. In these cases the branch name can be specified via a command-line parameter:</p>
<pre><code class="lang-bash">$ git-flow-version --branch develop
</code></pre>
<p>Matching of the branch name is performed using the following strategy:</p>
<ul>
<li>if there is a branch with the exact same name, use that branch, otherwise,</li>
<li>find all branches that end with the same string as the provided parameter:
<ul>
<li>if all of these branches have the same <em>type</em> use that <em>type</em>, otherwise,</li>
<li>if all of these branches have more than one different <em>type</em> generate an error.</li>
</ul>
</li>
</ul>
<h3 id="command-line-reference">Command-Line reference</h3>
<p>The number of command-line parameters and/or options supported by <code>git-flow-version</code> is very limited, however below you find them explained in detail:</p>
<h4 id="help-information">Help information</h4>
<p>To show the help information, use any of the following command-line switches:</p>
<pre><code class="lang-bash">$ git-flow-version -?
$ git-flow-version -h
$ git-flow-version --help
</code></pre>
<h4 id="setting-the-branch-name">Setting the branch name</h4>
<p>To use the branch in the repository with the name that matches the supplied value to determine the <em>type</em> of the branch, add either the <code>‑b</code> or the <code>‑‑branch</code> command-line parameter followed by the name of the branch.</p>
<pre><code class="lang-bash">$ git-flow-version -b develop
$ git-flow-version --branch feature/issue-1234-improve-error-handling
</code></pre>
<h4 id="version-information">Version information</h4>
<p>To list the version of <code>git‑flow‑version</code> use either the <code>‑v</code> or <code>‑‑version</code> command-line switches.</p>
<pre><code class="lang-bash">$ git-flow-version -v
$ git-flow-version --version
</code></pre>
<h2 id="requirements">Requirements</h2>
<p>DashDashVersion only supports repositories that strictly follow the <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">git flow</a> conventions with the branch names:</p>
<ul>
<li><code>master</code> or <code>main</code></li>
<li><code>develop</code></li>
<li><code>release/&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</code></li>
<li><code>feature/&lt;feature name&gt;</code></li>
<li><code>bugfix/&lt;bugfix name&gt;</code></li>
<li><code>hotfix/&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</code></li>
<li><code>support/&lt;support branch name&gt;</code></li>
</ul>
<p>this may seem overly restrictive but we believe strongly in simplicity and convention over configuration.</p>
<h4 id="bootstrap-requirements">Bootstrap requirements</h4>
<ul>
<li>A tag on <code>master</code> with a <a href="https://semver.org/">SemVer 2.0.0</a> compliant name for the latest release, without a pre-release label and without build metadata, if not it will assume 0.0.0 as the current version at the first commit on the repository and count from there.</li>
<li>On any active <code>release/</code> or <code>hotfix/</code> branch add a tag using the  <code>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;-rc.&lt;number&gt;</code> format if having consecutive <code>rc</code> versions is required.</li>
</ul>
<h3 id="configuration">Configuration</h3>
<p>There is nothing to configure 🙌, you have already done the necessary configuration by adhering to <a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">git flow</a> 😜.</p>
<h3 id="keep-in-mind">Keep in mind</h3>
<ul>
<li>Only <code>release/</code>, <code>hotfix/</code>, <code>develop</code> and <code>feature/</code> branches are supported, for other branches a human has to decide on a version number.</li>
<li>Make sure to tag <code>release/</code> and <code>hotfix/</code> branches after generating a version number, the next version number is solely reliant upon that tag.</li>
<li>For unsupported branches if a tag is already present in the correct format, that version number will be returned, to facilitate rebuilds on <code>master</code> for example.</li>
</ul>
<h2 id="what-version-number-to-expect">What version number to expect</h2>
<h3 id="on-develop">On <code>develop</code></h3>
<p>The number of commits since the last release version <code>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</code> is used for the numeric part of the pre-release label. Since the content of <code>develop</code> will be in the next version of your project, the <code>&lt;minor&gt;</code> version number will be <code>1</code> higher than the <code>&lt;minor&gt;</code> number of the last release version.
For example if there are 3 commits on <code>develop</code> and the last tag on <code>master</code> is <code>0.0.0</code> the version number will be <code>0.1.0-dev.3</code>.
After performing:</p>
<pre><code class="lang-bash">$ git flow release start 0.1.0
$ git flow release finish
</code></pre>
<p>the output of <code>git-flow-version</code> will be:</p>
<pre><code class="lang-bash">$ git-flow-version
{
    &quot;AssemblyVersion&quot;:&quot;0.2.0.128&quot;,
    &quot;FullSemVer&quot;:&quot;0.2.0-dev.1+8af6c6d&quot;,
    &quot;SemVer&quot;:&quot;0.2.0-dev.1&quot;
}
</code></pre>
<h3 id="on-a-feature-branch">On a <code>feature/</code> branch</h3>
<p>For a feature branch a version number will be calculated for the branch-off point from <code>origin/develop</code> or <code>develop</code> if there is no <code>origin/develop</code>. The number of commits on the feature branch is counted and these pieces are glued together.
For example with a feature named <code>featureA</code> with 5 commits since branching from <code>origin/develop</code> with version number <code>0.1.0-dev.12</code> the calculated version number would be <code>0.1.0-dev.12.featureA.5</code>.
If a second feature is started from the <code>feature/featureA</code> branch named <code>featureB</code> the number of commits since branching from <code>origin/develop</code> will be used, so the version number would be <code>0.1.0-dev.12-featureB.6</code>, if only a single commit is made on branch <code>featureB</code>.<br>
<img src="https://raw.githubusercontent.com/hightechict/DashDashVersion/develop/doc/images/feature.svg?sanitize=true" alt="feature branch"></p>
<h3 id="on-a-release-branch">On a <code>release/</code> branch</h3>
<p>Release candidates use a simple <code>+1</code> strategy, if the <code>release/0.2.0</code> branch has just been created and has no commits yet, the version number will be <code>0.2.0-rc.1</code>.
If there exists a tag on the release branch that has the form <code>0.2.0-rc.&lt;a=highest rc number&gt;</code> the calculated version number will be <code>0.2.0-rc.&lt;a+1&gt;</code>.
So if the last tag was <code>0.2.0-rc.4</code> the next version number would be <code>0.2.0-rc.5</code>.<br>
<img src="https://raw.githubusercontent.com/hightechict/DashDashVersion/develop/doc/images/release.svg?sanitize=true" alt="release branch"></p>
<h3 id="on-master">On <code>master</code></h3>
<p>The version number of the tag on <code>HEAD</code> will be returned if it can be found and parsed otherwise an error is generated.</p>
<h2 id="contributing">Contributing</h2>
<p>If you want to contribute to DashDashVersion you are more than welcome.<br>
Read more about contributing <a href="https://github.com/hightechict/DashDashVersion/blob/develop/CONTRIBUTING.md">here</a>.</p>
<h2 id="license">License</h2>
<p>This work is licensed under the LGPL license, refer to the <a href="https://raw.githubusercontent.com/hightechict/DashDashVersion/develop/COPYING">COPYING.md</a> and <a href="https://raw.githubusercontent.com/hightechict/DashDashVersion/develop/COPYING.LESSER">COPYING.LESSER.md</a> files for details.</p>
<h2 id="repository">Repository</h2>
<p>The source code of this projecte can be found on <a href="https://github.com/hightechict/DashDashVersion">github</a>.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="styles/docfx.js"></script>
    <script type="text/javascript" src="styles/main.js"></script>
  </body>
</html>
